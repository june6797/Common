<template>

    <div class="slds-card"
        style="border-radius: 1rem; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 0;">

        <!-- Ïò§Î†åÏßÄ Ìó§Îçî -->
        <div style="background-color: #f0d2eb; height: 70px;"></div>

        <!-- Ïù¥ÎØ∏ÏßÄ + ÌÖçÏä§Ìä∏ Í∞ÄÎ°ú Ï†ïÎ†¨ -->
        <div class="slds-grid slds-align_absolute-center" style="margin-top: -45px; padding: 1.5rem;">

            <!-- Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ -->
            <div class="slds-col" style="flex: 0 0 auto; margin-right: 2rem;">
                <div
                    style="width: 105px; height: 105px; border-radius: 50%; border: 4px solid white; overflow: hidden;">
                    <img src={familyImageUrl} alt="Profile" style="width: 100%; height: 100%;" />
                </div>
            </div>

            <!-- ÌÖçÏä§Ìä∏ ÏòÅÏó≠ (ÎÑàÎπÑ ÏûêÎèô) -->
            <div class="slds-col"
                style="flex: 1; display: flex; flex-direction: column; justify-content: center; margin-top: 20px;">
                <h2 style="font-size: 1.5rem; font-weight: 600; color: #1E293B; letter-spacing: 1px;
                font-family: Pretendard / Noto Sans KR;">
                    <span>{accountName}</span>
                    <span style="font-size: 1rem; font-weight: 400; margin-left: 0.3rem; color: #4b5563;">ÌïôÎ∂ÄÎ™®</span>
                </h2>
                <p class="slds-text-body_small slds-text-color_weak" style="margin-bottom: 0.5rem;">
                    {cityName}, {state}
                </p>
                <p class="slds-text-body_small slds-text-color_weak">ÏÉÅÏÑ∏ Ï£ºÏÜå: {street}</p>
                <p class="slds-text-body_small slds-text-color_weak">Ïó∞ÎùΩÏ≤ò: {phoneNumber}</p>
            </div>

        </div>

        <!-- ÏûêÎÖÄ Ï†ïÎ≥¥ Ìó§Îçî -->
        <h3 class="slds-text-heading_small slds-m-bottom_small" style="margin-left: 1rem; color: #374151;">
            üë∂ ÏûêÎÖÄ Ï†ïÎ≥¥
        </h3>

        <!-- ÏûêÎÖÄ Ïπ¥Îìú Î¶¨Ïä§Ìä∏ -->
        <div class="slds-grid slds-wrap slds-gutters slds-p-horizontal_medium">
            <template for:each={children} for:item="child">
                <div key={child.Id} class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                    <div class="slds-card slds-p-around_medium slds-m-bottom_medium"
                        style="border-radius: 0.75rem; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border: 1px solid #E5E7EB;">
                        <div class="slds-media">
                            <div class="slds-media__figure">
                                <img src={babyImageUrl} alt="Child"
                                    style="width: 48px; height: 48px; border-radius: 50%;" />
                            </div>
                            <div class="slds-media__body">
                                <p class="child-name-link" data-id={child.Id} onclick={handleChildClick}>
                                    {child.ChildName__c}
                                </p>

                                <p class="slds-text-body_small slds-text-color_weak">
                                    ÏÉùÎÖÑÏõîÏùº <br>
                                    <lightning-formatted-date-time value={child.Birthdate} year="numeric"
                                        month="2-digit" day="2-digit">
                                    </lightning-formatted-date-time>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </div>


    </div>
</template>